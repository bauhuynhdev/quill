{"version":3,"file":"theme.js","names":["Theme","DEFAULTS","modules","themes","default","constructor","quill","options","init","Object","keys","forEach","name","addModule","ModuleClass","import"],"sources":["../../src/core/theme.ts"],"sourcesContent":["import type Quill from '../core.js';\r\nimport type Clipboard from '../modules/clipboard.js';\r\nimport type History from '../modules/history.js';\r\nimport type Keyboard from '../modules/keyboard.js';\r\nimport type { ToolbarProps } from '../modules/toolbar.js';\r\nimport type Uploader from '../modules/uploader.js';\r\n\r\nexport interface ThemeOptions {\r\n  modules: Record<string, unknown> & {\r\n    toolbar?: null | ToolbarProps;\r\n  };\r\n}\r\n\r\nclass Theme {\r\n  static DEFAULTS: ThemeOptions = {\r\n    modules: {},\r\n  };\r\n\r\n  static themes = {\r\n    default: Theme,\r\n  };\r\n\r\n  modules: ThemeOptions['modules'] = {};\r\n\r\n  constructor(\r\n    protected quill: Quill,\r\n    protected options: ThemeOptions,\r\n  ) {}\r\n\r\n  init() {\r\n    Object.keys(this.options.modules).forEach((name) => {\r\n      if (this.modules[name] == null) {\r\n        this.addModule(name);\r\n      }\r\n    });\r\n  }\r\n\r\n  addModule(name: 'clipboard'): Clipboard;\r\n  addModule(name: 'keyboard'): Keyboard;\r\n  addModule(name: 'uploader'): Uploader;\r\n  addModule(name: 'history'): History;\r\n  addModule(name: string): unknown;\r\n  addModule(name: string) {\r\n    // @ts-expect-error\r\n    const ModuleClass = this.quill.constructor.import(`modules/${name}`);\r\n    this.modules[name] = new ModuleClass(\r\n      this.quill,\r\n      this.options.modules[name] || {},\r\n    );\r\n    return this.modules[name];\r\n  }\r\n}\r\n\r\nexport interface ThemeConstructor {\r\n  new (quill: Quill, options: unknown): Theme;\r\n  DEFAULTS: ThemeOptions;\r\n}\r\n\r\nexport default Theme;\r\n"],"mappings":"AAaA,MAAMA,KAAK,CAAC;EACV,OAAOC,QAAQ,GAAiB;IAC9BC,OAAO,EAAE,CAAC;EACZ,CAAC;EAED,OAAOC,MAAM,GAAG;IACdC,OAAO,EAAEJ;EACX,CAAC;EAEDE,OAAO,GAA4B,CAAC,CAAC;EAErCG,WAAWA,CACCC,KAAY,EACZC,OAAqB,EAC/B;IAAA,KAFUD,KAAY,GAAZA,KAAY;IAAA,KACZC,OAAqB,GAArBA,OAAqB;EAC9B;EAEHC,IAAIA,CAAA,EAAG;IACLC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACH,OAAO,CAACL,OAAO,CAAC,CAACS,OAAO,CAAEC,IAAI,IAAK;MAClD,IAAI,IAAI,CAACV,OAAO,CAACU,IAAI,CAAC,IAAI,IAAI,EAAE;QAC9B,IAAI,CAACC,SAAS,CAACD,IAAI,CAAC;MACtB;IACF,CAAC,CAAC;EACJ;EAOAC,SAASA,CAACD,IAAY,EAAE;IACtB;IACA,MAAME,WAAW,GAAG,IAAI,CAACR,KAAK,CAACD,WAAW,CAACU,MAAM,CAAE,WAAUH,IAAK,EAAC,CAAC;IACpE,IAAI,CAACV,OAAO,CAACU,IAAI,CAAC,GAAG,IAAIE,WAAW,CAClC,IAAI,CAACR,KAAK,EACV,IAAI,CAACC,OAAO,CAACL,OAAO,CAACU,IAAI,CAAC,IAAI,CAAC,CACjC,CAAC;IACD,OAAO,IAAI,CAACV,OAAO,CAACU,IAAI,CAAC;EAC3B;AACF;AAOA,eAAeZ,KAAK","ignoreList":[]}